<IfModule mod_rewrite.c>
RewriteEngine on

# Redirigir páginas principales con .html a carpetas sin .html (301 redirect permanente)
RewriteCond %{REQUEST_URI} ^/(about|contact|gallery|productos|productos-terceros|empleo|admin-vacantes|politicas-seguridad-alimentaria)\.html$ [NC]
RewriteRule ^(.*)\.html$ /$1/ [R=301,L]

# Redirigir URLs sin barra final a URLs con barra final (solo para carpetas)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !(.*)/$
RewriteCond %{REQUEST_URI} ^/(about|contact|gallery|productos|productos-terceros|empleo|admin-vacantes|politicas-seguridad-alimentaria)/?$ [NC]
RewriteRule ^(.*)$ /$1/ [R=301,L]

# Servir index.html desde carpetas (páginas principales)
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_FILENAME}/index.html -f
RewriteCond %{REQUEST_URI} !^/(css|js|images|fonts|videos|almuerzo|dist-lunch)/
RewriteRule ^(.*)/?$ $1/index.html [L]

# Manejar archivos PHP (si existen)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php [L]

# Manejar archivos HTML individuales en la raíz (productos, noticias, etc.)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]

</IfModule>